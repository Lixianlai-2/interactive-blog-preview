{"version":3,"sources":["webpack:///./src/components/Footer.vue?02a9","webpack:///./src/components/Footer.vue","webpack:///./src/api/auth.js","webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue?628b","webpack:///./src/components/Header.vue","webpack:///src/App.vue","webpack:///./src/App.vue?95a2","webpack:///./src/App.vue","webpack:///./src/store/modules/auth.js","webpack:///./src/store/modules/blog.js","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/helper/util.js","webpack:///./src/main.js","webpack:///./src/api/blog.js","webpack:///./src/helper/request.js"],"names":["components_Footer","render","this","$createElement","_self","_c","_m","staticRenderFns","_h","_v","src_components_Footer","__webpack_require__","normalizeComponent","ssrContext","URL","auth","register","_ref","username","password","request","login","_ref2","logout","localStorage","removeItem","getInfo","window","Header","data","computed","extends_default","Object","vuex_esm","methods","onLogout","console","log","created","checkLogin","components_Header","_vm","class","isLogin","_e","staticClass","attrs","to","src","user","avatar","alt","title","href","on","click","App","name","components","Footer","Header_normalizeComponent","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","modules_auth","state","getters","mutations","setUser","payload","setLogin","actions","commit","then","res","_ref3","_ref4","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","stop","_ref5","_this2","_callee2","_context2","_ref6","_this3","_callee3","_context3","abrupt","modules_blog","states","Vue","use","Vuex","store","Store","modules","blog","Router","router","routes","path","component","e","bind","meta","requireAuth","beforeEach","from","matched","some","record","dispatch","query","redirect","fullPath","friendlyDate","dateStr","time","Date","getTime","space","now","str","Math","floor","util","install","options","prototype","ElementUI","config","productionTip","el","template","__WEBPACK_IMPORTED_MODULE_0__helper_request__","GET_LIST","GET_DETAIL","CREATE","UPDATE","DELETE","__webpack_exports__","getBLogs","arguments","length","undefined","page","_ref$page","userId","atIndex","getIndexBlogs","_ref2$page","getBlogsByUserId","_ref3$page","getDetail","blogId","replace","updateBlog","content","description","deleteBlog","_ref7","createBlog","_ref8","_ref8$title","_ref8$content","_ref8$description","_ref8$atIndex","url","type","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","option","method","toLowerCase","params","token","axios","defaults","headers","common","status","Message","error","msg","catch","err","post","baseURL"],"mappings":"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","file":"static/js/app.b277874df17627b27723.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('p',[_vm._v(\"\\n    © Li Xianlai 2022 \"),_c('br'),_vm._v(\" \"),_c('span',[_vm._v(\"微信：no1643565650\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-425ddad4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Footer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-425ddad4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Footer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Footer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Footer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-425ddad4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Footer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-425ddad4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Footer.vue\n// module id = null\n// module chunks = ","import request from \"../helper/request\";\r\n\r\nconst URL = {\r\n  REGISTER: \"/auth/register\",\r\n  LOGIN: \"/auth/login\",\r\n  LOGOUT: \"/auth/logout\",\r\n  GET_INFO: \"/auth\"\r\n};\r\n\r\nexport default {\r\n  register({ username, password }) {\r\n    return request(URL.REGISTER, \"POST\", { username, password });\r\n  },\r\n\r\n  // 如果登录成功\r\n  login({ username, password }) {\r\n    return request(URL.LOGIN, \"POST\", { username, password });\r\n  },\r\n\r\n  logout() {\r\n    localStorage.removeItem(\"token\");\r\n    return request(URL.LOGOUT);\r\n  },\r\n\r\n  getInfo() {\r\n    return request(URL.GET_INFO);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/auth.js","<template>\r\n  <!-- 根据是登出还是登入，展示不同的页面 -->\r\n  <header :class=\"{ login: isLogin, logout: !isLogin }\">\r\n    <!-- 没有登录 -->\r\n    <template v-if=\"!isLogin\">\r\n      <h1>先来写博客</h1>\r\n\r\n      <p>记录学习的点点滴滴，分享总结的经验和踩过的坑</p>\r\n      <div class=\"buttons\">\r\n        <router-link to=\"/login\"> <el-button>立即登录</el-button></router-link>\r\n        <router-link to=\"/register\"\r\n          ><el-button>注册账号</el-button></router-link\r\n        >\r\n      </div>\r\n    </template>\r\n\r\n    <!-- 登录后header展示的页面 -->\r\n    <template v-if=\"isLogin\">\r\n      <h1><router-link class=\"share\" to=\"/\">分享使人进步</router-link></h1>\r\n      <!-- 导向createPage的图标 -->\r\n      <router-link to=\"/createPage\"> <i class=\"el-icon-edit\"></i></router-link>\r\n      <div class=\"user\">\r\n        <img\r\n          class=\"avatar\"\r\n          :src=\"user.avatar\"\r\n          :alt=\"user.username\"\r\n          :title=\"user.username\"\r\n        />\r\n        <ul>\r\n          <li><router-link to=\"/my\">我的</router-link></li>\r\n          <li><a href=\"#\" @click=\"onLogout\">注销</a></li>\r\n        </ul>\r\n      </div>\r\n    </template>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport auth from \"../api/auth.js\";\r\nwindow.auth = auth;\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // isLogin: false\r\n    };\r\n  },\r\n  computed: {\r\n    // 这里能够得到getters，是因为main.js中引入了store中的index.js文件\r\n    ...mapGetters([\"isLogin\", \"user\"])\r\n  },\r\n  methods: {\r\n    ...mapActions([\"checkLogin\", \"logout\"]),\r\n    onLogout() {\r\n      this.logout();\r\n      console.log(\"logout works!\");\r\n    }\r\n  },\r\n  created() {\r\n    // 来自methods\r\n    this.checkLogin();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\nrouter-link {\r\n  display: flex;\r\n}\r\nheader.login {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #3f463c;\r\n\r\n  .el-icon-edit {\r\n    color: #eaeaea93;\r\n    font-size: 35px;\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .el-icon-edit:hover {\r\n    color: #eaeaea;\r\n  }\r\n\r\n  h1 {\r\n    margin: 0;\r\n    padding: 25px;\r\n    font-size: 30px;\r\n    text-transform: uppercase;\r\n    flex: 1;\r\n    // color: rgba(255, 255, 255, 0.747);\r\n\r\n    a {\r\n      color: #fff;\r\n    }\r\n\r\n    .share {\r\n      color: #eaeaea8e;\r\n    }\r\n\r\n    .share:hover {\r\n      color: #eaeaeae3;\r\n    }\r\n  }\r\n\r\n  .edit {\r\n    color: #fff;\r\n    font-size: 30px;\r\n  }\r\n\r\n  .avatar {\r\n    width: 40px;\r\n    height: 40px;\r\n    border: 1px solid #fff;\r\n    border-radius: 50%;\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .user {\r\n    position: relative;\r\n\r\n    ul {\r\n      display: none;\r\n      position: absolute;\r\n      right: 0;\r\n      list-style: none;\r\n      border: 1px solid #eaeaea;\r\n      margin: 0;\r\n      padding: 0;\r\n      background-color: #fff;\r\n\r\n      a {\r\n        text-decoration: none;\r\n        color: #333;\r\n        font-size: 12px;\r\n        display: block;\r\n        padding: 5px 10px;\r\n\r\n        &:hover {\r\n          background-color: #eaeaea;\r\n        }\r\n      }\r\n    }\r\n\r\n    &:hover ul {\r\n      display: block;\r\n    }\r\n  }\r\n}\r\n\r\n// -----------------------------------\r\n// 未登录时的header\r\nheader.logout {\r\n  padding: 0 12% 30px 12%;\r\n  display: grid;\r\n  justify-items: center;\r\n  background: #323a2fef;\r\n}\r\n\r\nh1 {\r\n  color: #fafcff;\r\n  font-size: 40px;\r\n  margin: 60px 0 0 0;\r\n  text-transform: uppercase;\r\n}\r\n\r\np {\r\n  color: #fafcff;\r\n  margin: 30px auto 0 auto;\r\n}\r\n\r\n.buttons {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  button {\r\n    margin-right: 20px;\r\n  }\r\n}\r\n\r\n.user {\r\n  position: relative;\r\n\r\n  ul {\r\n    display: none;\r\n    position: absolute;\r\n    right: 0;\r\n    list-style: none;\r\n    border: 1px solid #eaeaea;\r\n    margin: 0;\r\n    padding: 0;\r\n    background-color: #fff;\r\n\r\n    a {\r\n      text-decoration: none;\r\n      color: #333;\r\n      font-size: 12px;\r\n      display: block;\r\n      padding: 5px 10px;\r\n\r\n      &:hover {\r\n        background-color: #eaeaea;\r\n      }\r\n    }\r\n  }\r\n\r\n  &:hover ul {\r\n    display: block;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{class:{ login: _vm.isLogin, logout: !_vm.isLogin }},[(!_vm.isLogin)?[_c('h1',[_vm._v(\"先来写博客\")]),_vm._v(\" \"),_c('p',[_vm._v(\"记录学习的点点滴滴，分享总结的经验和踩过的坑\")]),_vm._v(\" \"),_c('div',{staticClass:\"buttons\"},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_c('el-button',[_vm._v(\"立即登录\")])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/register\"}},[_c('el-button',[_vm._v(\"注册账号\")])],1)],1)]:_vm._e(),_vm._v(\" \"),(_vm.isLogin)?[_c('h1',[_c('router-link',{staticClass:\"share\",attrs:{\"to\":\"/\"}},[_vm._v(\"分享使人进步\")])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/createPage\"}},[_c('i',{staticClass:\"el-icon-edit\"})]),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.user.avatar,\"alt\":_vm.user.username,\"title\":_vm.user.username}}),_vm._v(\" \"),_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/my\"}},[_vm._v(\"我的\")])],1),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.onLogout}},[_vm._v(\"注销\")])])])])]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-88502aca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-88502aca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-88502aca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-88502aca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Header id=\"Header\" />\n    <main><router-view></router-view></main>\n    <Footer id=\"Footer\" />\n  </div>\n</template>\n\n<script>\nimport Footer from \"./components/Footer.vue\";\nimport Header from \"./components/Header.vue\";\n\nexport default {\n  name: \"App\",\n  components: { Footer, Header }\n};\n</script>\n\n<style lang=\"less\">\n@import \"./assets/reset.less\";\n\nbody {\n  min-height: 100vh;\n}\n\n#app {\n  // height: ;\n  min-height: 100vh;\n  display: grid;\n  // 左右两边12%的宽度\n  grid-template-columns: 12% auto 12%;\n  // 中间的main部分尽可能撑开\n  grid-template-rows: auto 1fr auto;\n  // .代表不放\n  grid-template-areas:\n    \"header header header\"\n    \".      main  .\"\n    \"footer footer footer\";\n\n  #Header {\n    grid-area: header;\n    padding-left: 12%;\n    padding-right: 12%;\n  }\n\n  main {\n    // border: 1px solid blue;\n    // padding-top: 30px;\n    // margin-top: 30px;\n    grid-area: main;\n  }\n\n  #Footer {\n    // padding-top: 30px;\n    grid-area: footer;\n    padding-left: 12%;\n    padding-right: 12%;\n    // border: 1px solid red;\n    background: #000000b7;\n  }\n}\n\n@media (max-width: 768px) {\n  #app {\n    grid-template-columns: 10px auto 10px;\n\n    #Header,\n    #Footer {\n      padding-left: 20px;\n      padding-right: 20px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Header',{attrs:{\"id\":\"Header\"}}),_vm._v(\" \"),_c('main',[_c('router-view')],1),_vm._v(\" \"),_c('Footer',{attrs:{\"id\":\"Footer\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-213c31ba\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-213c31ba\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-213c31ba\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// auth是有几种方法的一个对象\r\nimport auth from \"../../api/auth\";\r\n\r\nconst state = {\r\n  user: null,\r\n  isLogin: false\r\n};\r\n\r\nconst getters = {\r\n  // getters必须是函数\r\n  user: state => state.user,\r\n  isLogin: state => state.isLogin\r\n};\r\n\r\n// 相当于methods\r\nconst mutations = {\r\n  setUser(state, payload) {\r\n    state.user = payload.user;\r\n  },\r\n\r\n  setLogin(state, payload) {\r\n    state.isLogin = payload.isLogin;\r\n  }\r\n};\r\n\r\n// 异步的methods\r\nconst actions = {\r\n  login({ commit }, { username, password }) {\r\n    // 如果登录成功\r\n    auth.login({ username, password }).then(res => {\r\n      commit(\"setUser\", { user: res.data });\r\n      commit(\"setLogin\", { isLogin: true });\r\n    });\r\n  },\r\n\r\n  // 异步注册\r\n  async register({ commit }, { username, password }) {\r\n    let res = await auth.register({ username, password });\r\n    commit(\"setUser\", { user: res.data });\r\n    commit(\"setLogin\", { isLogin: true });\r\n  },\r\n\r\n  // 登出后的重新设置\r\n  async logout({ commit }) {\r\n    // 返回logout对应url的Promise\r\n    await auth.logout();\r\n\r\n    // 登出后设置对应值\r\n    commit(\"setUser\", { user: null });\r\n\r\n    commit(\"setLogin\", { isLogin: false });\r\n  },\r\n\r\n  // 检查是否登入\r\n  async checkLogin({ commit, state }) {\r\n    if (state.isLogin) return true;\r\n\r\n    let res = await auth.getInfo();\r\n\r\n    commit(\"setLogin\", { isLogin: res.isLogin });\r\n\r\n    if (!res.isLogin) return false;\r\n    commit(\"setUser\", { user: res.data });\r\n    return true;\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/auth.js","import blog from \"../../api/blog\";\r\n\r\nconst states = {};\r\nconst getters = {};\r\nconst mutations = {};\r\nconst actions = {};\r\n\r\nexport default {\r\n  states,\r\n  getters,\r\n  mutations,\r\n  actions\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/blog.js","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport auth from \"./modules/auth\";\r\nimport blog from \"./modules/blog\";\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  // 引入两个模块\r\n  modules: {\r\n    auth,\r\n    blog\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from \"vue\";\r\nimport Router from \"vue-router\";\r\n// import login from \"../pages/Login.vue\";\r\n// import createPage from \"../pages/CreatePage.vue\";\r\n// import User from \"../pages/User.vue\";\r\n// import Edit from \"../pages/Edit.vue\";\r\n// import My from \"../pages/My.vue\";\r\n// import Index from \"../pages/Index.vue\";\r\n// import NotFound from \"../pages/NotFound.vue\";\r\n// import Register from \"../pages/Register.vue\";\r\n// import Detail from \"../pages/Detail.vue\";\r\nimport store from \"../store\";\r\n\r\nVue.use(Router);\r\n\r\n// const routes = [\r\n//   {\r\n//     // 设置默认路径\r\n//     path: \"/\",\r\n//     // Index为首页\r\n//     component: Index\r\n//   },\r\n//   {\r\n//     path: \"/login\",\r\n//     component: login\r\n//   },\r\n\r\n//   {\r\n//     path: \"/createPage\",\r\n//     component: createPage,\r\n//     // 只有经过身份验证的用户才能创建帖子\r\n//     meta: { requireAuth: true }\r\n//   },\r\n//   {\r\n//     path: \"/user/:blogId\",\r\n//     component: User\r\n//   },\r\n//   {\r\n//     path: \"/edit/:blogId\",\r\n//     component: Edit,\r\n//     // 只有经过身份验证的用户才能编辑帖子\r\n//     meta: { requireAuth: true }\r\n//   },\r\n//   {\r\n//     path: \"/my\",\r\n//     component: My,\r\n//     // 只有经过身份验证的用户才能访问自己的内容\r\n//     meta: { requireAuth: true }\r\n//   },\r\n//   {\r\n//     path: \"/index\",\r\n//     component: Index\r\n//   },\r\n\r\n//   {\r\n//     path: \"/register\",\r\n//     component: Register\r\n//   },\r\n//   {\r\n//     path: \"/detail/:blogId\",\r\n//     component: Detail\r\n//   },\r\n\r\n//   {\r\n//     path: \"*\",\r\n//     component: NotFound\r\n//   }\r\n// ];\r\n\r\nconst router = new Router({\r\n  routes: [\r\n    {\r\n      // 设置默认路径\r\n      path: \"/\",\r\n      // Index为首页\r\n      component: () => import(\"../pages/Index.vue\")\r\n    },\r\n    {\r\n      path: \"/login\",\r\n      component: () => import(\"../pages/Login.vue\")\r\n    },\r\n\r\n    {\r\n      path: \"/createPage\",\r\n      component: () => import(\"../pages/CreatePage.vue\"),\r\n      // 只有经过身份验证的用户才能创建帖子\r\n      meta: { requireAuth: true }\r\n    },\r\n    {\r\n      path: \"/user/:userId\",\r\n      component: () => import(\"../pages/User.vue\")\r\n    },\r\n    {\r\n      path: \"/edit/:blogId\",\r\n      component: () => import(\"../pages/Edit.vue\"),\r\n      // 只有经过身份验证的用户才能编辑帖子\r\n      meta: { requireAuth: true }\r\n    },\r\n    {\r\n      path: \"/my\",\r\n      component: () => import(\"../pages/My.vue\"),\r\n      // 只有经过身份验证的用户才能访问自己的内容\r\n      meta: { requireAuth: true }\r\n    },\r\n    {\r\n      path: \"/index\",\r\n      component: () => import(\"../pages/Index.vue\")\r\n    },\r\n\r\n    {\r\n      path: \"/register\",\r\n      component: () => import(\"../pages/Register.vue\")\r\n    },\r\n    {\r\n      path: \"/detail/:blogId\",\r\n      component: () => import(\"../pages/Detail.vue\")\r\n    }\r\n  ]\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  // 如果matched的标准化路由数组中，有一个标准化路由记录的meta中的requireAuth为真，那么就执行下面的函数\r\n  if (to.matched.some(record => record.meta.requireAuth)) {\r\n    store.dispatch(\"checkLogin\").then(isLogin => {\r\n      if (!isLogin) {\r\n        next({\r\n          path: \"/login\",\r\n          query: { redirect: to.fullPath }\r\n        });\r\n      } else {\r\n        next();\r\n      }\r\n    });\r\n  } else {\r\n    next(); // 确保一定要调用next()\r\n  }\r\n});\r\n\r\nexport default router;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function friendlyDate(dateStr) {\r\n  let dateObj = typeof dateStr === \"Object\" ? dateStr : new Date(dateStr);\r\n  let time = dateObj.getTime();\r\n  let now = Date.now();\r\n  let space = now - time;\r\n  let str = \"\";\r\n\r\n  switch (true) {\r\n    case space < 60000:\r\n      str = \"刚刚\";\r\n      break;\r\n    case space < 1000 * 3600:\r\n      str = Math.floor(space / 60000) + \"分钟前\";\r\n      break;\r\n    case space < 1000 * 3600 * 24:\r\n      str = Math.floor(space / (1000 * 3600)) + \"小时前\";\r\n      break;\r\n    default:\r\n      str = Math.floor(space / (1000 * 3600 * 24)) + \"天前\";\r\n  }\r\n  return str;\r\n}\r\n\r\nexport default {\r\n  install(Vue, options) {\r\n    Vue.prototype.friendlyDate = friendlyDate;\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helper/util.js","import Vue from \"vue\";\nimport App from \"./App\";\nimport router from \"./router\";\n// 在main.js中引入store文件夹中的index.js（如果不写后缀，默认就是导入index.js）\nimport store from \"./store\";\n\n// 引入并使用ElementUi\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nVue.use(ElementUI);\n\n// 引入并使用util\nimport util from \"@/helper/util\";\nVue.use(util);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: \"#app\",\n  store,\n  router,\n  components: { App },\n  template: \"<App/>\"\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import request from \"../helper/request\";\r\n\r\n// 接口\r\nconst URL = {\r\n  // 获取全部的博客\r\n  GET_LIST: \"/blog\",\r\n  GET_DETAIL: \"/blog/:blogId\",\r\n  CREATE: \"/blog\",\r\n  UPDATE: \"/blog/:blogId\",\r\n  DELETE: \"/blog/:blogId\"\r\n};\r\n\r\nexport default {\r\n  // 默认第一页，atIndex是获取到展示到首页的博客\r\n  getBLogs({ page = 1, userId, atIndex } = { page: 1 }) {\r\n    return request(URL.GET_LIST, \"GET\", { page, userId, atIndex });\r\n  },\r\n\r\n  // 不传递的话，默认是1,获取到展示到首页的博客\r\n  getIndexBlogs({ page = 1 } = { page: 1 }) {\r\n    return this.getBLogs({ page, atIndex: true });\r\n  },\r\n\r\n  getBlogsByUserId(userId, { page = 1, atIndex } = { page: 1 }) {\r\n    return this.getBLogs({ userId, page, atIndex });\r\n  },\r\n\r\n  // 获取详情\r\n  getDetail({ blogId }) {\r\n    return request(URL.GET_DETAIL.replace(\":blogId\", blogId));\r\n  },\r\n\r\n  updateBlog({ blogId }, { title, content, description, atIndex }) {\r\n    return request(URL.UPDATE.replace(\":blogId\", blogId), \"PATCH\", {\r\n      title,\r\n      content,\r\n      description,\r\n      atIndex\r\n    });\r\n  },\r\n\r\n  deleteBlog({ blogId }) {\r\n    return request(URL.DELETE.replace(\":blogId\", blogId), \"DELETE\");\r\n  },\r\n\r\n  createBlog(\r\n    // atIndex决定是否展示在首页\r\n    { title = \"\", content = \"\", description = \"\", atIndex = false } = {\r\n      title: \"\",\r\n      content: \"\",\r\n      description: \"\",\r\n      atIndex: false\r\n    }\r\n  ) {\r\n    return request(URL.CREATE, \"POST\", {\r\n      title,\r\n      content,\r\n      description,\r\n      atIndex\r\n    });\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/blog.js","import axios from \"axios\";\r\n\r\n// 在活动后显示反馈 与Notification的不同之处在于后者通常用于显示系统级被动通知。\r\nimport { Message } from \"element-ui\";\r\n\r\n// 全局axios默认值，即将被发送的自定义post请求头\r\naxios.defaults.headers.post[\"Content-Type\"] =\r\n  \"application/x-www-form-urlencoded\";\r\n\r\n//   `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL。 它可以通过设置一个 `baseURL` 便于为 axios 实例的方法传递相对 URL\r\n// 线上的博客地址\r\naxios.defaults.baseURL = \"//blog-server.hunger-valley.com\";\r\n\r\nexport default function request(url, type = \"GET\", data = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    let option = {\r\n      url,\r\n      method: type\r\n    };\r\n    if (type.toLowerCase() === \"get\") {\r\n      // 如果是get请求\r\n      option.params = data;\r\n    } else {\r\n      option.data = data;\r\n    }\r\n    if (localStorage.token) {\r\n      // 用户身份信息的登录与注册？\r\n      axios.defaults.headers.common[\"Authorization\"] = localStorage.token;\r\n    }\r\n\r\n    // 后端发送请求之后\r\n    axios(option)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        if (res.data.status === \"ok\") {\r\n          if (res.data.token) {\r\n            localStorage.token = res.data.token;\r\n          }\r\n          // 如果任务成功完成并带有结果值\r\n          resolve(res.data);\r\n        } else {\r\n          Message.error(res.data.msg);\r\n          reject(res.data);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        Message.err(\"网络异常\");\r\n        reject({ msg: \"网络异常\" });\r\n      });\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helper/request.js"],"sourceRoot":""}